{"mappings":"YAAA,MAAMA,EAAaC,SAASC,iBAAiB,eACvCC,EAAOF,SAASG,cAAc,QAC9BC,EAAcJ,SAASC,iBAAiB,iBAE9C,IAAII,GAAS,EAEb,MAAMC,EAAU,IAEhB,GAAIP,EAAWQ,OAAS,EACtB,IAAK,IAAIC,EAAQ,EAAGA,EAAQT,EAAWQ,OAAQC,IAAS,CACtD,MAAMC,EAAYV,EAAWS,GAC7BC,EAAUC,iBAAiB,SAAS,SAAUC,GAC5C,MAAMC,EAAYH,EAAUI,aAAa,QAAQC,QAAQ,IAAK,IAE9DC,EADoBf,SAASgB,eAAeJ,IAE5CD,EAAEM,gB,IAKR,MAAMC,EAAiBlB,SAASC,iBAAiB,gBACjD,GAAIiB,EAAeX,OAAS,EAC1B,IAAK,IAAIY,EAAQ,EAAGA,EAAQD,EAAeX,OAAQY,IAAS,CAC1D,MAAMC,EAAKF,EAAeC,GAC1BC,EAAGV,iBAAiB,SAAS,SAAUC,GACrCU,EAAWD,EAAGE,QAAQ,WACtBX,EAAEM,gB,IAKR,SAASF,EAAUQ,GACjB,GAAIA,GAAelB,EAAQ,CACzB,MAAMmB,EAAcxB,SAASG,cAAc,eACvCqB,EACFH,EAAWG,GAAa,GAsB9B,WACE,MAAMC,EACJC,OAAOC,WAAa3B,SAASG,cAAc,QAAQyB,YAAc,KACnE,GAAIxB,EAAYG,OAAS,EACvB,IAAK,IAAIC,EAAQ,EAAGA,EAAQJ,EAAYG,OAAQC,IAAS,CAC5CJ,EAAYI,GACpBqB,MAAMC,aAAeL,C,CAG5BvB,EAAK2B,MAAMC,aAAeL,EAC1BvB,EAAK6B,UAAUC,IAAI,QAEnB3B,GAAS,EACT4B,YAAW,WACT5B,GAAS,C,GACRC,E,CAnCC4B,GAEFX,EAAYQ,UAAUC,IAAI,QAC1BT,EAAYb,iBAAiB,SAAS,SAAUC,GACzCA,EAAEwB,OAAOb,QAAQ,oBACpBD,EAAWV,EAAEwB,OAAOb,QAAQ,U,KAMpC,SAASD,EAAWG,EAAaY,GAAW,GACtC/B,IACFmB,EAAYO,UAAUM,OAAO,QACzBD,IAyBNH,YAAW,WACT,GAAI7B,EAAYG,OAAS,EACvB,IAAK,IAAIC,EAAQ,EAAGA,EAAQJ,EAAYG,OAAQC,IACnCJ,EAAYI,GACpBqB,MAAMC,aAAe,MAG5B5B,EAAK2B,MAAMC,aAAe,MAC1B5B,EAAK6B,UAAUM,OAAO,O,GACrB/B,GAEHD,GAAS,EACT4B,YAAW,WACT5B,GAAS,C,GACRC,I,CAKLN,SAASU,iBAAiB,WAAW,SAAUC,GAC7C,GAAc,WAAVA,EAAE2B,IAAkB,CACtB,MAAMd,EAAcxB,SAASG,cAAc,eAEvCqB,GACFH,EAAWG,E,KCpGjB,MAAMe,EAAS,CACb,CACEC,GAAI,GACJC,KAAM,UAER,CACED,GAAI,GACJC,KAAM,aAER,CACED,GAAI,GACJC,KAAM,aAER,CACED,GAAI,GACJC,KAAM,UAER,CACED,GAAI,GACJC,KAAM,SAER,CACED,GAAI,GACJC,KAAM,eAER,CACED,GAAI,GACJC,KAAM,SAER,CACED,GAAI,MACJC,KAAM,UAER,CACED,GAAI,GACJC,KAAM,WAER,CACED,GAAI,GACJC,KAAM,WAER,CACED,GAAI,GACJC,KAAM,UAER,CACED,GAAI,MACJC,KAAM,SAER,CACED,GAAI,KACJC,KAAM,WAER,CACED,GAAI,MACJC,KAAM,WAER,CACED,GAAI,IACJC,KAAM,mBAER,CACED,GAAI,MACJC,KAAM,YAER,CACED,GAAI,GACJC,KAAM,YAER,CACED,GAAI,MACJC,KAAM,OAER,CACED,GAAI,GACJC,KAAM,YAIK,SAAAC,EAAmBC,EAAUC,GAC1C,IAAIC,EAAQ,GAYZ,OAXAF,EAASG,KAAIC,IACX,IAAK,MAAMC,KAAKT,EACVQ,IAAYC,EAAER,IAChBK,EAAMI,KAAKD,EAAEP,KAAK,IAKpBI,EAAMtC,OAAS,GACjBsC,EAAMK,OAAO,EAAG,EAAG,SAEdL,EAAMM,KAAK,K,CCpFpB,SAASC,EAAYC,GACnB,MAAMC,QAAEA,GAAYD,EACpB,OAAOC,EACJR,KAAI,EAACS,YAAEA,EAAWC,MAAEA,EAAKC,aAAEA,EAAYjB,GAAEA,EAAEkB,UAAEA,KAErC,2EACiBH,WAAqBC,qCAAyChB,uEAE7DgB,0DAJXd,EAAUgB,QAK+BD,EAAaE,MAClE,EACA,qCAKHR,KAAK,G,CAGH,SAASS,EAAYC,EAAM1D,GAEhCA,EAAc2D,UAAYV,EAAYS,E,CC3BxC,MAAME,EAAa/D,SAASG,cAAc,gBACpC6D,EAAahE,SAASG,cAAc,YAE1C8D,QAAQC,IAAIH,GAEZA,EAAWrD,iBAAiB,SAE5ByD,iBAEEC,YAAc,EACd,IACE,MAAMC,EAAUC,aAAaC,QAAQ,WAC/BC,EAAeC,KAAKC,MAAML,GAChCJ,QAAQC,IAAIM,EAAalB,SACzBM,EAAYY,EAAalB,QAASU,E,CAClC,MAAOW,GACPV,QAAQC,IAAIS,E,KChBhB,MAAMC,EAAY5E,SAASG,cAAc,eACnC0E,EAAa7E,SAASG,cAAc,YAE1C8D,QAAQC,IAAIU,GAEZA,EAAUlE,iBAAiB,SAE3ByD,iBAGIC,YAAc,EACd,IACI,MAAMU,EAASR,aAAaC,QAAQ,UAC9BQ,EAAcN,KAAKC,MAAMI,GAC/Bb,QAAQC,IAAIa,EAAYzB,SACxBM,EAAYmB,EAAYzB,QAASuB,E,CAErC,MAAOF,GACHV,QAAQC,IAAIS,E","sources":["src/js/modal-footer.js","src/js/get-genres.js","src/js/render-cards.js","src/js/add-to-watched.js","src/js/add-to-queque.js"],"sourcesContent":["const popupLinks = document.querySelectorAll('.popup-link');\nconst body = document.querySelector('body');\nconst lockPadding = document.querySelectorAll('.lock-padding');\n\nlet unlock = true;\n\nconst timeout = 800;\n\nif (popupLinks.length > 0) {\n  for (let index = 0; index < popupLinks.length; index++) {\n    const popupLink = popupLinks[index];\n    popupLink.addEventListener('click', function (e) {\n      const popupName = popupLink.getAttribute('href').replace('#', '');\n      const curentPopup = document.getElementById(popupName);\n      popupOpen(curentPopup);\n      e.preventDefault();\n    });\n  }\n}\n\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\nif (popupCloseIcon.length > 0) {\n  for (let index = 0; index < popupCloseIcon.length; index++) {\n    const el = popupCloseIcon[index];\n    el.addEventListener('click', function (e) {\n      popupClose(el.closest('.popup'));\n      e.preventDefault();\n    });\n  }\n}\n\nfunction popupOpen(curentPopup) {\n  if (curentPopup && unlock) {\n    const popupActive = document.querySelector('.popup.open');\n    if (popupActive) {\n      popupClose(popupActive, false);\n    } else {\n      bodyLock();\n    }\n    curentPopup.classList.add('open');\n    curentPopup.addEventListener('click', function (e) {\n      if (!e.target.closest('.popup__content')) {\n        popupClose(e.target.closest('.popup'));\n      }\n    });\n  }\n}\n\nfunction popupClose(popupActive, doUnlock = true) {\n  if (unlock) {\n    popupActive.classList.remove('open');\n    if (doUnlock) {\n      bodyUnLock();\n    }\n  }\n}\n\nfunction bodyLock() {\n  const lockPaddingValue =\n    window.innerWidth - document.querySelector('body').offsetWidth + 'px';\n  if (lockPadding.length > 0) {\n    for (let index = 0; index < lockPadding.length; index++) {\n      const el = lockPadding[index];\n      el.style.paddingRight = lockPaddingValue;\n    }\n  }\n  body.style.paddingRight = lockPaddingValue;\n  body.classList.add('lock');\n  //блок на повторное нажатия во время css анимации\n  unlock = false;\n  setTimeout(function () {\n    unlock = true;\n  }, timeout);\n}\n\nfunction bodyUnLock() {\n  setTimeout(function () {\n    if (lockPadding.length > 0) {\n      for (let index = 0; index < lockPadding.length; index++) {\n        const el = lockPadding[index];\n        el.style.paddingRight = '0px';\n      }\n    }\n    body.style.paddingRight = '0px';\n    body.classList.remove('lock');\n  }, timeout);\n\n  unlock = false;\n  setTimeout(function () {\n    unlock = true;\n  }, timeout);\n}\n\n// Add close modal push Escape\n\ndocument.addEventListener('keydown', function (e) {\n  if (e.key === 'Escape') {\n    const popupActive = document.querySelector('.popup.open');\n\n    if (popupActive) {\n      popupClose(popupActive);\n    }\n  }\n});\n","const genres = [\n  {\n    id: 28,\n    name: 'Action',\n  },\n  {\n    id: 12,\n    name: 'Adventure',\n  },\n  {\n    id: 16,\n    name: 'Animation',\n  },\n  {\n    id: 35,\n    name: 'Comedy',\n  },\n  {\n    id: 80,\n    name: 'Crime',\n  },\n  {\n    id: 99,\n    name: 'Documentary',\n  },\n  {\n    id: 18,\n    name: 'Drama',\n  },\n  {\n    id: 10751,\n    name: 'Family',\n  },\n  {\n    id: 14,\n    name: 'Fantasy',\n  },\n  {\n    id: 36,\n    name: 'History',\n  },\n  {\n    id: 27,\n    name: 'Horror',\n  },\n  {\n    id: 10402,\n    name: 'Music',\n  },\n  {\n    id: 9648,\n    name: 'Mystery',\n  },\n  {\n    id: 10749,\n    name: 'Romance',\n  },\n  {\n    id: 878,\n    name: 'Science Fiction',\n  },\n  {\n    id: 10770,\n    name: 'TV Movie',\n  },\n  {\n    id: 53,\n    name: 'Thriller',\n  },\n  {\n    id: 10752,\n    name: 'War',\n  },\n  {\n    id: 37,\n    name: 'Western',\n  },\n];\n\nexport default function getGenres(genreArr, genreList) {\n  let genre = [];\n  genreArr.map(genreId => {\n    for (const g of genres) {\n      if (genreId === g.id) {\n        genre.push(g.name);\n      }\n    }\n  });\n\n  if (genre.length > 2) {\n    genre.splice(2, 5, 'Other');\n  }\n  return genre.join(', ');\n}\n","import getGenres from './get-genres';\n\nconst IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\n// fechMuviTrend().then(resp => {\n//   renderCards(resp, cardListEl);\n// });\n\nfunction createCards(movies) {\n  const { results } = movies;\n  return results\n    .map(({ poster_path, title, release_date, id, genre_ids }) => {\n      const genre = getGenres(genre_ids);\n      return `<li class=\"movie-card\">\n      <img src=\"${IMAGE_URL}${poster_path}\" alt=\"${title} class=\"movie-card-img\" data-id='${id}'\"/>\n      <div class=\"movie-info\">\n      <p class=\"movie-title\">${title}</p>\n      <p class=\"film-cards__title movie-genres\">${genre} | ${release_date.slice(\n        0,\n        4\n      )}</p> \n      </div>\n    </li>`;\n    })\n    .join('');\n}\n\nexport function renderCards(data, querySelector) {\n  /* querySelector.insertAdjacentHTML('beforeend', createCards(data)); */\n  querySelector.innerHTML = createCards(data);\n}\n","import { renderCards } from './render-cards';\n\nconst watchedBtn = document.querySelector('.watched-btn');\nconst galleryRef = document.querySelector('.gallery');\n\nconsole.log(watchedBtn);\n\nwatchedBtn.addEventListener('click', onWatchedBtnClick);\n\nasync function onWatchedBtnClick() {\n  //clearContent();\n  currentPage = 1;\n  try {\n    const watched = localStorage.getItem('watched');\n    const parseWatched = JSON.parse(watched);\n    console.log(parseWatched.results);\n    renderCards(parseWatched.results, galleryRef);\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import { renderCards } from './render-cards';\n\nconst quequeBtn = document.querySelector('.queque-btn');\nconst galleryRef = document.querySelector('.gallery');\n\nconsole.log(quequeBtn)\n\nquequeBtn.addEventListener('click', onQuequeBtnClick);\n\nasync function onQuequeBtnClick() {\n\n    //clearContent();\n    currentPage = 1;\n    try {\n        const queque = localStorage.getItem('queque');\n        const parseQueque = JSON.parse(queque);\n        console.log(parseQueque.results)\n        renderCards(parseQueque.results, galleryRef);\n    }\n    catch (error) {\n        console.log(error);\n    }\n}"],"names":["$45a9282dbc930ad1$var$popupLinks","document","querySelectorAll","$45a9282dbc930ad1$var$body","querySelector","$45a9282dbc930ad1$var$lockPadding","$45a9282dbc930ad1$var$unlock","$45a9282dbc930ad1$var$timeout","length","index","popupLink","addEventListener","e","popupName","getAttribute","replace","$45a9282dbc930ad1$var$popupOpen","getElementById","preventDefault","$45a9282dbc930ad1$var$popupCloseIcon","index1","el","$45a9282dbc930ad1$var$popupClose","closest","curentPopup","popupActive","lockPaddingValue","window","innerWidth","offsetWidth","style","paddingRight","classList","add","setTimeout","$45a9282dbc930ad1$var$bodyLock","target","doUnlock","remove","key","$fab5075d8cb83450$var$genres","id","name","$fab5075d8cb83450$export$2e2bcd8739ae039","genreArr","genreList","genre","map","genreId","g","push","splice","join","$48b9195af7100b32$var$createCards","movies","results","poster_path","title","release_date","genre_ids","slice","$48b9195af7100b32$export$e483d52d8d6686e1","data","innerHTML","$a0a4ec25fbda4c4f$var$watchedBtn","$a0a4ec25fbda4c4f$var$galleryRef","console","log","async","currentPage","watched","localStorage","getItem","parseWatched","JSON","parse","error","$e2736b9487d6d91b$var$quequeBtn","$e2736b9487d6d91b$var$galleryRef","queque","parseQueque"],"version":3,"file":"my-library.b7167942.js.map"}