!function(){const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),n=document.querySelectorAll(".lock-padding");let o=!0;const c=800;if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(e){const t=n.getAttribute("href").replace("#","");l(document.getElementById(t)),e.preventDefault()}))}const i=document.querySelectorAll(".close-popup");if(i.length>0)for(let e=0;e<i.length;e++){const t=i[e];t.addEventListener("click",(function(e){s(t.closest(".popup")),e.preventDefault()}))}function l(e){if(e&&o){const i=document.querySelector(".popup.open");i?s(i,!1):function(){const e=window.innerWidth-document.querySelector("body").offsetWidth+"px";if(n.length>0)for(let t=0;t<n.length;t++){n[t].style.paddingRight=e}t.style.paddingRight=e,t.classList.add("lock"),o=!1,setTimeout((function(){o=!0}),c)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||s(e.target.closest(".popup"))}))}}function s(e,i=!0){o&&(e.classList.remove("open"),i&&(setTimeout((function(){if(n.length>0)for(let e=0;e<n.length;e++)n[e].style.paddingRight="0px";t.style.paddingRight="0px",t.classList.remove("lock")}),c),o=!1,setTimeout((function(){o=!0}),c)))}document.addEventListener("keydown",(function(e){if("Escape"===e.key){const e=document.querySelector(".popup.open");e&&s(e)}}));const r=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function a(e,t){let n=[];return e.map((e=>{for(const t of r)e===t.id&&n.push(t.name)})),n.length>2&&n.splice(2,5,"Other"),n.join(", ")}function d(e){const{results:t}=e;return t.map((({poster_path:e,title:t,release_date:n,id:o,genre_ids:c})=>`<li class="movie-card">\n      <img src="https://image.tmdb.org/t/p/w500${e}" alt="${t} class="movie-card-img" data-id='${o}'"/>\n      <div class="movie-info">\n      <p class="movie-title">${t}</p>\n      <p class="film-cards__title movie-genres">${a(c)} | ${n.slice(0,4)}</p> \n      </div>\n    </li>`)).join("")}function u(e,t){t.innerHTML=d(e)}const m=document.querySelector(".watched-btn"),p=document.querySelector(".gallery");console.log(m),m.addEventListener("click",(async function(){currentPage=1;try{const e=localStorage.getItem("watched"),t=JSON.parse(e);console.log(t.results),u(t.results,p)}catch(e){console.log(e)}}));const g=document.querySelector(".queque-btn"),f=document.querySelector(".gallery");console.log(g),g.addEventListener("click",(async function(){currentPage=1;try{const e=localStorage.getItem("queque"),t=JSON.parse(e);console.log(t.results),u(t.results,f)}catch(e){console.log(e)}}))}();
//# sourceMappingURL=my-library.b7167942.js.map
